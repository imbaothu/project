<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project 1: Song.Song Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Project 1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_song_1_1_song.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_song_1_1_song-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Song.Song Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_song_1_1_song.html" title="The Song.Song class.">Song.Song</a> class.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Song.Song:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_song_1_1_song.png" usemap="#Song.Song_map" alt=""/>
  <map id="Song.Song_map" name="Song.Song_map">
<area href="class_wave_1_1_base_wave.html" title="The Wave.BaseWave class." alt="Wave.BaseWave" shape="rect" coords="0,0,108,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4d3715b8a116f4121e52a15e9a0bd359" id="r_a4d3715b8a116f4121e52a15e9a0bd359"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d3715b8a116f4121e52a15e9a0bd359">__init__</a> (self, str song_file)</td></tr>
<tr class="memdesc:a4d3715b8a116f4121e52a15e9a0bd359"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_song_1_1_song.html" title="The Song.Song class.">Song.Song</a> class initializer.  <br /></td></tr>
<tr class="separator:a4d3715b8a116f4121e52a15e9a0bd359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_wave_1_1_base_wave"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_wave_1_1_base_wave')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_wave_1_1_base_wave.html">Wave.BaseWave</a></td></tr>
<tr class="memitem:a24da430a2b9a6fbd42794a44cb81cbc6 inherit pub_methods_class_wave_1_1_base_wave" id="r_a24da430a2b9a6fbd42794a44cb81cbc6"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#a24da430a2b9a6fbd42794a44cb81cbc6">__str__</a> (self)</td></tr>
<tr class="memdesc:a24da430a2b9a6fbd42794a44cb81cbc6 inherit pub_methods_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">A string representation of the base wave class.  <br /></td></tr>
<tr class="separator:a24da430a2b9a6fbd42794a44cb81cbc6 inherit pub_methods_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c314e4d404f1689775039f4324208b inherit pub_methods_class_wave_1_1_base_wave" id="r_a79c314e4d404f1689775039f4324208b"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#a79c314e4d404f1689775039f4324208b">write_wave_file</a> (self, str filename)</td></tr>
<tr class="memdesc:a79c314e4d404f1689775039f4324208b inherit pub_methods_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to a wave file.  <br /></td></tr>
<tr class="separator:a79c314e4d404f1689775039f4324208b inherit pub_methods_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8040c53e02915288d014a19e5dbddf inherit pub_methods_class_wave_1_1_base_wave" id="r_a6a8040c53e02915288d014a19e5dbddf"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#a6a8040c53e02915288d014a19e5dbddf">read_wave_file</a> (self, str filename)</td></tr>
<tr class="memdesc:a6a8040c53e02915288d014a19e5dbddf inherit pub_methods_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from a wave file.  <br /></td></tr>
<tr class="separator:a6a8040c53e02915288d014a19e5dbddf inherit pub_methods_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3d46d8a82bdbf8de8fe99f373dea66e8" id="r_a3d46d8a82bdbf8de8fe99f373dea66e8"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d46d8a82bdbf8de8fe99f373dea66e8">_read_int</a> (self, TextIO in_file)</td></tr>
<tr class="memdesc:a3d46d8a82bdbf8de8fe99f373dea66e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper method to read a line from in_file and return it as an integer.  <br /></td></tr>
<tr class="separator:a3d46d8a82bdbf8de8fe99f373dea66e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c16e6129d3c069768de9fb987907db0" id="r_a8c16e6129d3c069768de9fb987907db0"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c16e6129d3c069768de9fb987907db0">_read_instrument_info</a> (self, TextIO in_file, List[Dict] instrument_info)</td></tr>
<tr class="memdesc:a8c16e6129d3c069768de9fb987907db0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper method to read the instrument information form in_file and store it to instrument_info.  <br /></td></tr>
<tr class="separator:a8c16e6129d3c069768de9fb987907db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada8c2275e727e50c729995e2ecac2f66" id="r_ada8c2275e727e50c729995e2ecac2f66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_wave_1_1_base_wave.html">BaseWave</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada8c2275e727e50c729995e2ecac2f66">_generate_instrument_note_wave</a> (self, int wave_type, int num_samples, float freq, float amp)</td></tr>
<tr class="memdesc:ada8c2275e727e50c729995e2ecac2f66"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper method to generate an instrument note sound wave based on the input wave_type, num_samples, freq, and amp.  <br /></td></tr>
<tr class="separator:ada8c2275e727e50c729995e2ecac2f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45efed55c1b5a99049e79f79c334dc9" id="r_ae45efed55c1b5a99049e79f79c334dc9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae45efed55c1b5a99049e79f79c334dc9">_read_instrument_audio_data</a> (self, TextIO in_file, List[Dict] instrument_info, List[<a class="el" href="class_data_structure_1_1_array.html">Array</a>] audio_data, List[<a class="el" href="class_data_structure_1_1_array.html">Array</a>] audio_num_samples)</td></tr>
<tr class="memdesc:ae45efed55c1b5a99049e79f79c334dc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper method to read the instrument audio data from in_file and store it to audio_data.  <br /></td></tr>
<tr class="separator:ae45efed55c1b5a99049e79f79c334dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc46e8900368c0273d1f6de2c1a057e3" id="r_acc46e8900368c0273d1f6de2c1a057e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc46e8900368c0273d1f6de2c1a057e3">_average_audio_data_samples</a> (self, List[<a class="el" href="class_data_structure_1_1_array.html">Array</a>] audio_data, List[<a class="el" href="class_data_structure_1_1_array.html">Array</a>] audio_num_samples)</td></tr>
<tr class="memdesc:acc46e8900368c0273d1f6de2c1a057e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper method to compute the average of the audio data by dividing the input audio data by the total number of samples.  <br /></td></tr>
<tr class="separator:acc46e8900368c0273d1f6de2c1a057e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa504ac9d4bf0d18ba863a03d39f56219" id="r_aa504ac9d4bf0d18ba863a03d39f56219"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa504ac9d4bf0d18ba863a03d39f56219">_mix_instrument_audio_in_song</a> (self, List[Dict] instrument_info, List[<a class="el" href="class_data_structure_1_1_array.html">Array</a>] audio_data)</td></tr>
<tr class="memdesc:aa504ac9d4bf0d18ba863a03d39f56219"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper method to mix the instrument audio data into a stereo sound.  <br /></td></tr>
<tr class="separator:aa504ac9d4bf0d18ba863a03d39f56219"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_class_wave_1_1_base_wave"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_static_attribs_class_wave_1_1_base_wave')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="class_wave_1_1_base_wave.html">Wave.BaseWave</a></td></tr>
<tr class="memitem:acd5fe651f4a3c6ddfa792e1e4ed4cf7a inherit pub_static_attribs_class_wave_1_1_base_wave" id="r_acd5fe651f4a3c6ddfa792e1e4ed4cf7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#acd5fe651f4a3c6ddfa792e1e4ed4cf7a">samples_per_second</a> = 44100</td></tr>
<tr class="memdesc:acd5fe651f4a3c6ddfa792e1e4ed4cf7a inherit pub_static_attribs_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of samples per second.  <br /></td></tr>
<tr class="separator:acd5fe651f4a3c6ddfa792e1e4ed4cf7a inherit pub_static_attribs_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_class_wave_1_1_base_wave"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_attribs_class_wave_1_1_base_wave')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_wave_1_1_base_wave.html">Wave.BaseWave</a></td></tr>
<tr class="memitem:a1557eafb40ab2b1eb1581f9d2d50ccde inherit pro_attribs_class_wave_1_1_base_wave" id="r_a1557eafb40ab2b1eb1581f9d2d50ccde"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#a1557eafb40ab2b1eb1581f9d2d50ccde">_num_channels</a></td></tr>
<tr class="memdesc:a1557eafb40ab2b1eb1581f9d2d50ccde inherit pro_attribs_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of wave channels.  <br /></td></tr>
<tr class="separator:a1557eafb40ab2b1eb1581f9d2d50ccde inherit pro_attribs_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe8d54803c0d9907503ac08d8e06947 inherit pro_attribs_class_wave_1_1_base_wave" id="r_aafe8d54803c0d9907503ac08d8e06947"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#aafe8d54803c0d9907503ac08d8e06947">_byte_rate</a></td></tr>
<tr class="memdesc:aafe8d54803c0d9907503ac08d8e06947 inherit pro_attribs_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">The byte rate.  <br /></td></tr>
<tr class="separator:aafe8d54803c0d9907503ac08d8e06947 inherit pro_attribs_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138395381dd2ee77807749b51f7274f7 inherit pro_attribs_class_wave_1_1_base_wave" id="r_a138395381dd2ee77807749b51f7274f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#a138395381dd2ee77807749b51f7274f7">_block_align</a></td></tr>
<tr class="memdesc:a138395381dd2ee77807749b51f7274f7 inherit pro_attribs_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">The block alignment offset.  <br /></td></tr>
<tr class="separator:a138395381dd2ee77807749b51f7274f7 inherit pro_attribs_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b5d7fee4b7d61fe204d4e8bb78c7cf5 inherit pro_attribs_class_wave_1_1_base_wave" id="r_a6b5d7fee4b7d61fe204d4e8bb78c7cf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#a6b5d7fee4b7d61fe204d4e8bb78c7cf5">_sub_chucksize1</a></td></tr>
<tr class="memdesc:a6b5d7fee4b7d61fe204d4e8bb78c7cf5 inherit pro_attribs_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">The wave sub-chunksize 1.  <br /></td></tr>
<tr class="separator:a6b5d7fee4b7d61fe204d4e8bb78c7cf5 inherit pro_attribs_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ec08cf10b52dd94d2e0da47340ef77 inherit pro_attribs_class_wave_1_1_base_wave" id="r_a05ec08cf10b52dd94d2e0da47340ef77"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#a05ec08cf10b52dd94d2e0da47340ef77">_sub_chucksize2</a></td></tr>
<tr class="memdesc:a05ec08cf10b52dd94d2e0da47340ef77 inherit pro_attribs_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">The wave sub-chucksize 2.  <br /></td></tr>
<tr class="separator:a05ec08cf10b52dd94d2e0da47340ef77 inherit pro_attribs_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ecf5754a98a1576b643349089cdbf8 inherit pro_attribs_class_wave_1_1_base_wave" id="r_aa0ecf5754a98a1576b643349089cdbf8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#aa0ecf5754a98a1576b643349089cdbf8">_chucksize</a></td></tr>
<tr class="memdesc:aa0ecf5754a98a1576b643349089cdbf8 inherit pro_attribs_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total wave chuck size.  <br /></td></tr>
<tr class="separator:aa0ecf5754a98a1576b643349089cdbf8 inherit pro_attribs_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41eb7ae1b0ca1c880f45cee98caa224c inherit pro_attribs_class_wave_1_1_base_wave" id="r_a41eb7ae1b0ca1c880f45cee98caa224c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wave_1_1_base_wave.html#a41eb7ae1b0ca1c880f45cee98caa224c">_data</a></td></tr>
<tr class="memdesc:a41eb7ae1b0ca1c880f45cee98caa224c inherit pro_attribs_class_wave_1_1_base_wave"><td class="mdescLeft">&#160;</td><td class="mdescRight">The wave data.  <br /></td></tr>
<tr class="separator:a41eb7ae1b0ca1c880f45cee98caa224c inherit pro_attribs_class_wave_1_1_base_wave"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>It extends the <a class="el" href="class_wave_1_1_base_wave.html" title="The Wave.BaseWave class.">Wave.BaseWave</a> class and initializes the wave samples by reading a simple formatted music score text file. It reads the music score line by line, generates wave samples notes by notes, and mixes them in stereo audio data. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4d3715b8a116f4121e52a15e9a0bd359" name="a4d3715b8a116f4121e52a15e9a0bd359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d3715b8a116f4121e52a15e9a0bd359">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None Song.Song.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>song_file</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It opens the input <b>song_file</b> as an input stream and parses the music score text file accordingly. It first reads the total number of samples and the number of instruments. Then, it reads the instrument information, including the wave type (1: sine, 2: square, 3: sawtooth, 4: complex, 5: string), which envelope to apply (0: no envelope, 1: rise/fall envelope, 2: ADSR envelope), the wave amplitude, and the pan angle. It is recommended to store in a list of dict. This method then initializes the instrument audio data using Arrays. Since it has multiple instruments, it is suggested to use a list of Arrays. This will store the accumulated sound value of each instrument at each time position.</p>
<p>Furthermore, in order to compute the average value, it may be a good idea to initialize another list of Arrays to store the total number of samples generated for each instrument at each time position. These two variables are filled by reading notes specified in the music score. For each note read, it generates the corresponding sound wave and accumulates the sound sample in the list of Arrays variables. After reading all notes, it computes the average note value for each instrument at each time position. In the end, it mixes the instrument audio sample data into stereo song data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">song_file</td><td>The input musicscore text file </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_wave_1_1_base_wave.html#a0c5a6598937d4c8b1c56ed51c2e929ef">Wave.BaseWave</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acc46e8900368c0273d1f6de2c1a057e3" name="acc46e8900368c0273d1f6de2c1a057e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc46e8900368c0273d1f6de2c1a057e3">&#9670;&#160;</a></span>_average_audio_data_samples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Song.Song._average_audio_data_samples </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[<a class="el" href="class_data_structure_1_1_array.html">Array</a>]</td>          <td class="paramname"><span class="paramname"><em>audio_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[<a class="el" href="class_data_structure_1_1_array.html">Array</a>]</td>          <td class="paramname"><span class="paramname"><em>audio_num_samples</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method computes the average sample values. Note that <b>audio_data</b> stores the accumulated sample values while <b>audio_num_samples</b> stores the total number of samples. To compute the average values, this method loops each instrument and loops each sample data in <b>audio_data</b>, then divides the sample value by the total number of samples. Note that this method only divides the sample value by the total number of samples when the total number of samples is not zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">audio_data</td><td>The instrument audio data.</td></tr>
    <tr><td class="paramname">audio_num_samples</td><td>The number of samples of each instrument audio data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ada8c2275e727e50c729995e2ecac2f66" name="ada8c2275e727e50c729995e2ecac2f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada8c2275e727e50c729995e2ecac2f66">&#9670;&#160;</a></span>_generate_instrument_note_wave()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="class_wave_1_1_base_wave.html">BaseWave</a> Song.Song._generate_instrument_note_wave </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>wave_type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_samples</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>freq</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>amp</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method uses <a class="el" href="class_wave_1_1_sine_wave.html" title="The Wave.SineWave class.">Wave.SineWave</a>, <a class="el" href="class_wave_1_1_square_wave.html" title="The Wave.SquareWave class.">Wave.SquareWave</a>, <a class="el" href="class_wave_1_1_sawtooth_wave.html" title="The Wave.SawtoothWave class.">Wave.SawtoothWave</a>, <a class="el" href="class_wave_1_1_complex_wave.html" title="The Wave.ComplexWave class.">Wave.ComplexWave</a>, or <a class="el" href="class_wave_1_1_string_wave.html" title="The Wave.StringWave class.">Wave.StringWave</a> creates a sound wave and returns it. The input <b>wave_type</b> determines which class to use to generate the sound wave. All other input parameters are relayed to the <a class="el" href="namespace_wave.html" title="The Wave package.">Wave</a> class for wave generation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wave_type</td><td>The wave type. 1: sine, 2: square, 3: sawtooth, 4: complex, 5: string</td></tr>
    <tr><td class="paramname">num_samples</td><td>The number of samples.</td></tr>
    <tr><td class="paramname">freq</td><td>The wave frequency.</td></tr>
    <tr><td class="paramname">amp</td><td>The wave amplitude.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A sound wave. </dd></dl>

</div>
</div>
<a id="aa504ac9d4bf0d18ba863a03d39f56219" name="aa504ac9d4bf0d18ba863a03d39f56219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa504ac9d4bf0d18ba863a03d39f56219">&#9670;&#160;</a></span>_mix_instrument_audio_in_song()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Song.Song._mix_instrument_audio_in_song </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[Dict]</td>          <td class="paramname"><span class="paramname"><em>instrument_info</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[<a class="el" href="class_data_structure_1_1_array.html">Array</a>]</td>          <td class="paramname"><span class="paramname"><em>audio_data</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>For each instrument (i.e., looping <b>audio_data</b>), it uses the pan angle (stored in <b>instrument_info</b>) and audio_stereo_gains() to compute the left and right channel gains. Then, it multiples the gains by the instrument amplitude (also stored in <b>instrument_info</b>), calls audio_multiply_gain() to apply the gain to the instrument's audio data and calls audio_stereo_mix_in() to mix the instrument's audio data into the song's audio data (i.e., <b>self._data</b>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instrument_info</td><td>The instrument information.</td></tr>
    <tr><td class="paramname">audio_data</td><td>The instrument audio data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae45efed55c1b5a99049e79f79c334dc9" name="ae45efed55c1b5a99049e79f79c334dc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae45efed55c1b5a99049e79f79c334dc9">&#9670;&#160;</a></span>_read_instrument_audio_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Song.Song._read_instrument_audio_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TextIO</td>          <td class="paramname"><span class="paramname"><em>in_file</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[Dict]</td>          <td class="paramname"><span class="paramname"><em>instrument_info</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[<a class="el" href="class_data_structure_1_1_array.html">Array</a>]</td>          <td class="paramname"><span class="paramname"><em>audio_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[<a class="el" href="class_data_structure_1_1_array.html">Array</a>]</td>          <td class="paramname"><span class="paramname"><em>audio_num_samples</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method reads <b>in_file</b> line by line until the end. Each line represents a note of an instrument. After splitting the line into values, this method should obtain the instrument index (telling us which instrument the note belongs to), the note number (which can be converted to frequency using audio_note_number_to_freq()), the note amplitude, the starting and ending sample indices. Using this information, this method calls _generate_instrument_note_wave() to create the note sound wave, then applies the envelope, and at last accumulates the samples in <b>audio_data</b> (using the instrument index, the starting and ending sample indices). This method also increases the number of sample counters <b>audio_num_samples</b> whenever it accumulates a sound sample to <b>audio_data</b>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_file</td><td>The input file stream.</td></tr>
    <tr><td class="paramname">instrument_info</td><td>The instrument information.</td></tr>
    <tr><td class="paramname">audio_data</td><td>The instrument audio data.</td></tr>
    <tr><td class="paramname">audio_num_samples</td><td>The number of samples of each instrument audio data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8c16e6129d3c069768de9fb987907db0" name="a8c16e6129d3c069768de9fb987907db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c16e6129d3c069768de9fb987907db0">&#9670;&#160;</a></span>_read_instrument_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None Song.Song._read_instrument_info </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TextIO</td>          <td class="paramname"><span class="paramname"><em>in_file</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[Dict]</td>          <td class="paramname"><span class="paramname"><em>instrument_info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The input <b>instrument_info</b> is expected to be a list of dict that represents a list of instrument information. The length of <b>instrument_info</b> is the total number of instruments. For each instrument, this method reads a line from <b>in_file</b> and splits the read line into values. It assigns and recasts the corresponding values into the dict.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_file</td><td>The input file stream.</td></tr>
    <tr><td class="paramname">instrument_info</td><td>The output instrument information, which is a list of dict. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3d46d8a82bdbf8de8fe99f373dea66e8" name="a3d46d8a82bdbf8de8fe99f373dea66e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d46d8a82bdbf8de8fe99f373dea66e8">&#9670;&#160;</a></span>_read_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None Song.Song._read_int </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TextIO</td>          <td class="paramname"><span class="paramname"><em>in_file</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method reads a line from <b>in_file</b>, recasts it as an integer, and returns the recast result.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_file</td><td>The input file stream. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_song_8py.html">Song.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_song.html">Song</a></li><li class="navelem"><a class="el" href="class_song_1_1_song.html">Song</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
